!function(t){function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var s={};i.m=t,i.c=s,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:e})},i.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=1)}([function(t,i){t.exports=L},function(t,i,s){s(2),s(3),t.exports=s(5)},function(t,i,s){var e;e=s(0),t.exports=e.ReactiveMeasureControl=e.Control.extend({options:{position:"bottomright",metric:!0,feet:!1,measure:{perimeter:0,area:0}},initialize:function(t,i){if(null==i&&(i={}),e.Util.setOptions(this,i),this.options.measure.perimeter=0,this.options.measure.area=0,t.getLayers().length>0)return t.eachLayer(function(t){return function(i){var s;if("function"==typeof i.getMeasure)return s=i.getMeasure(),t.options.measure.perimeter+=s.perimeter,t.options.measure.area+=s.area}}(this))},onAdd:function(t){return this._container=e.DomUtil.create("div","reactive-measure-control "+t._leaflet_id),t.reactiveMeasureControl=this,t&&this._container&&this.updateContent(this.options.measure),this._container},updateContent:function(t,i){var s;null==t&&(t={}),null==i&&(i={}),s="",t.perimeter&&(s+="<span class='leaflet-draw-tooltip-measure perimeter'>"+e.GeometryUtil.readableDistance(t.perimeter,!!this.options.metric,!!i.feet)+"</span>"),t.area&&(s+="<span class='leaflet-draw-tooltip-measure area'>"+e.GeometryUtil.readableArea(t.area,!!this.options.metric)+"</span>"),null!=i.selection&&!0===i.selection?e.DomUtil.addClass(this._container,"selection"):e.DomUtil.removeClass(this._container,"selection"),this._container.innerHTML=s}}),e.FeatureGroup.include({getMeasure:function(){var t;return t={perimeter:0,area:0},this.eachLayer(function(i){var s;return s=i.getMeasure(),t.perimeter+=s.perimeter,t.area+=s.area}),t}}),e.Polygon.include({__getCenter:function(){var t,i,s,e,a,n,r,o,h,l,_;if(this.__project(),h=this._rings[0],!(n=h.length))return null;for(t=l=_=0,e=0,a=n-1;e<n;)r=h[e],o=h[a],s=r.y*o.x-o.y*r.x,l+=(r.x+o.x)*s,_+=(r.y+o.y)*s,t+=3*s,a=e++;return i=0===t?h[0]:[l/t,_/t],this._map.layerPointToLatLng(i)}}),e.Polyline.include({getLatLngsAsArray:function(){var t,i,s,e,a;for(t=[],a=this._latlngs,i=0,e=a.length;i<e;i++)s=a[i],t.push([s.lat,s.lng]);return t},__getCenter:function(){var t,i,s,e,a,n,r,o,h;if(this.__project(),s=void 0,i=void 0,h=void 0,t=void 0,a=void 0,n=void 0,o=void 0,r=this._rings[0],!(e=r.length))return null;for(s=0,i=0;s<e-1;)i+=r[s].distanceTo(r[s+1])/2,s++;if(0===i)return this._map.layerPointToLatLng(r[0]);for(s=0,t=0;s<e-1;){if(a=r[s],n=r[s+1],h=a.distanceTo(n),(t+=h)>i)return o=(t-i)/h,this._map.layerPointToLatLng([n.x-o*(n.x-a.x),n.y-o*(n.y-a.y)]);s++}},__project:function(){var t;t=new e.Bounds,this._rings=[],this.__projectLatlngs(this._latlngs,this._rings,t)},__projectLatlngs:function(t,i,s){var a,n,r,o;if(a=t[0]instanceof e.LatLng,r=t.length,n=void 0,o=void 0,a){for(o=[],n=0;n<r;)o[n]=this._map.latLngToLayerPoint(t[n]),s.extend(o[n]),n++;i.push(o)}else for(n=0;n<r;)this.__projectLatlngs(t[n],i,s),n++},getMeasure:function(){var t;return t=new e.GeographicUtil.Polygon(this.getLatLngsAsArray()),{perimeter:t.perimeter(),area:t.area()}}}),e.Draw.Polyline.include({__addHooks:e.Draw.Polyline.prototype.addHooks,__removeHooks:e.Draw.Polyline.prototype.removeHooks,__vertexChanged:e.Draw.Polyline.prototype._vertexChanged,_vertexChanged:function(){return this.__vertexChanged.apply(this,arguments),this._tooltip.hide()},__onMouseMove:function(t){var i,s,a,n,r,o,h,l,_,c;if(null!=this._tooltip&&this._tooltip.hide(),this._markers.length>0){for(_=this._map.mouseEventToLayerPoint(t.originalEvent),l=this._map.layerPointToLatLng(_),r=[],c=this._poly.getLatLngs(),a=0,o=c.length;a<o;a++)n=c[a],r.push(n);return r.push(l),1===this._markers.length&&(i=e.polyline(r)),this._markers.length>=2&&(i=e.polygon(r)),i._map=this._map,i.__getCenter(),s=new e.GeographicUtil.Polygon(i.getLatLngsAsArray()),h={perimeter:s.perimeter(),area:s.area()},t.target.reactiveMeasureControl.updateContent(h,{selection:!0})}},addHooks:function(){this.__addHooks.apply(this,arguments),this._map.on("mousemove",this.__onMouseMove,this)},removeHooks:function(){this._map.reactiveMeasureControl&&this._map.off("mousemove"),this.__removeHooks.apply(this,arguments)}}),e.Edit.Poly.include({__addHooks:e.Edit.Poly.prototype.addHooks,__removeHooks:e.Edit.Poly.prototype.removeHooks,__onHandlerDrag:function(t){var i,s;if(this._poly.__getCenter(),i=new e.GeographicUtil.Polygon(this._poly.getLatLngsAsArray()),s={perimeter:i.perimeter(),area:i.area()},e.extend(e.Draw.Polyline.prototype.options,{target:t.marker.getLatLng()}),null!=this._poly._map)return this._poly._map.reactiveMeasureControl.updateContent(s,{selection:!0})},addHooks:function(){return this.__addHooks.apply(this,arguments),this._poly.on("editdrag",this.__onHandlerDrag,this)},removeHooks:function(){var t,i;return t=new e.GeographicUtil.Polygon(this._poly.getLatLngsAsArray()),i={perimeter:t.perimeter(),area:t.area()},null!=this._poly._map&&this._poly._map.reactiveMeasureControl.updateContent(i,{selection:!1}),e.EditToolbar.reactiveMeasure&&this._poly.off("editdrag"),this.__removeHooks.apply(this,arguments)}}),e.Edit.PolyVerticesEdit.include({__onTouchMove:e.Edit.PolyVerticesEdit.prototype._onTouchMove,__removeMarker:e.Edit.PolyVerticesEdit.prototype._removeMarker,_onMarkerDrag:function(t){var i;i=t.target,e.extend(i._origLatLng,i._latlng),i._middleLeft&&i._middleLeft.setLatLng(this._getMiddleLatLng(i._prev,i)),i._middleRight&&i._middleRight.setLatLng(this._getMiddleLatLng(i,i._next)),this._poly.redraw(),this._poly.fire("editdrag",{marker:t.target})},_onTouchMove:function(t){return this.__onTouchMove.apply(this,arguments),this._poly.fire("editdrag")},_removeMarker:function(t){return this.__removeMarker.apply(this,arguments),this._poly.fire("editdrag",{marker:t})}}),e.LatLng.prototype.toArray=function(){return[this.lat,this.lng]},e.Tooltip.include({__initialize:e.Tooltip.prototype.initialize,__dispose:e.Tooltip.prototype.dispose,initialize:function(t,i){return null==i&&(i={}),this.__initialize.apply(this,arguments)},dispose:function(){return this._map.off("mouseover"),this.__dispose.apply(this,arguments)},__updateTooltipMeasure:function(t,i,s){var a;null==i&&(i={}),null==s&&(s={}),a={text:""},i.perimeter&&(a.text+="<span class='leaflet-draw-tooltip-measure perimeter'>"+e.GeometryUtil.readableDistance(i.perimeter,!!s.metric,!!s.feet)+"</span>"),i.area&&(a.text+="<span class='leaflet-draw-tooltip-measure area'>"+e.GeometryUtil.readableArea(i.area,!!s.metric)+"</span>"),t&&(this.updateContent(a),this.__updatePosition(t,s))},__updatePosition:function(t,i){var s,a,n,r,o;if(null==i&&(i={}),r=this._map.latLngToLayerPoint(t),this._container.offsetWidth,n=this._map.getContainer().offsetWidth,e.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-left"),this._container)return this._container.style.visibility="inherit",s=this._map.layerPointToContainerPoint(r),o=window.getComputedStyle(this._container),a=this._container.offsetWidth+parseInt(o.paddingLeft)+parseInt(o.paddingRight)+parseInt(o.marginLeft)+parseInt(o.marginRight),(s.x<0||s.x>n-a||s.y<this._container.offsetHeight)&&(r=r.add(e.point(-a,0)),e.DomUtil.addClass(this._container,"leaflet-draw-tooltip-left")),e.DomUtil.setPosition(this._container,r)},hide:function(){return this._container.style.visibility="hidden"}}),e.EditToolbar.Edit.include({_onMouseMove:function(t){}}),e.EditToolbar.Delete.include({_onMouseMove:function(t){}}),e.DrawToolbar.include({__initialize:e.DrawToolbar.prototype.initialize,initialize:function(t){this.__initialize.apply(this,arguments)}}),e.EditToolbar.include({__initialize:e.EditToolbar.prototype.initialize,initialize:function(){this.__initialize.apply(this,arguments)}})},function(t,i,s){var e,a;a=s(0),e=s(4),a.GeographicUtil=a.extend(a.GeographicUtil||{},{geod:e.Geodesic.WGS84,distance:function(t,i){var s;return s=this.geod.Inverse(t[0],t[1],i[0],i[1]),s.s12.toFixed(3)},Polygon:function(t){var i,s,a;for(this.geod=e.Geodesic.WGS84,this.poly=this.geod.Polygon(!1),i=0,s=t.length;i<s;i++)a=t[i],this.poly.AddPoint(a[0],a[1]);this.poly=this.poly.Compute(!1,!0)}}),a.GeographicUtil.Polygon.prototype={perimeter:function(){return this.poly.perimeter},area:function(){return Math.abs(this.poly.area)}}},function(t,i,s){var e,a;!function(s){"use strict";var n={};n.Constants={},n.Math={},n.Accumulator={},function(t){t.WGS84={a:6378137,f:1/298.257223563},t.version={major:1,minor:49,patch:0},t.version_string="1.49"}(n.Constants),function(t){t.digits=53,t.epsilon=Math.pow(.5,t.digits-1),t.degree=Math.PI/180,t.sq=function(t){return t*t},t.hypot=function(t,i){var s,e;return t=Math.abs(t),i=Math.abs(i),s=Math.max(t,i),e=Math.min(t,i)/(s||1),s*Math.sqrt(1+e*e)},t.cbrt=function(t){var i=Math.pow(Math.abs(t),1/3);return t<0?-i:i},t.log1p=function(t){var i=1+t,s=i-1;return 0===s?t:t*Math.log(i)/s},t.atanh=function(i){var s=Math.abs(i);return s=t.log1p(2*s/(1-s))/2,i<0?-s:s},t.copysign=function(t,i){return Math.abs(t)*(i<0||0===i&&1/i<0?-1:1)},t.sum=function(t,i){var s,e=t+i,a=e-i,n=e-a;return a-=t,n-=i,s=-(a+n),{s:e,t:s}},t.polyval=function(t,i,s,e){for(var a=t<0?0:i[s++];--t>=0;)a=a*e+i[s++];return a},t.AngRound=function(t){if(0===t)return t;var i=1/16,s=Math.abs(t);return s=s<i?i-(i-s):s,t<0?-s:s},t.AngNormalize=function(t){return t%=360,t<=-180?t+360:t<=180?t:t-360},t.LatFix=function(t){return Math.abs(t)>90?Number.NaN:t},t.AngDiff=function(i,s){var e=t.sum(t.AngNormalize(-i),t.AngNormalize(s)),a=t.AngNormalize(e.s),n=e.t;return t.sum(180===a&&n>0?-180:a,n)},t.sincosd=function(t){var i,s,e,a,n,r;switch(i=t%360,s=Math.floor(i/90+.5),i-=90*s,i*=this.degree,e=Math.sin(i),a=Math.cos(i),3&s){case 0:n=e,r=a;break;case 1:n=a,r=-e;break;case 2:n=-e,r=-a;break;default:n=-a,r=e}return 0!==t&&(n+=0,r+=0),{s:n,c:r}},t.atan2d=function(t,i){var s,e,a=0;switch(Math.abs(t)>Math.abs(i)&&(s=i,i=t,t=s,a=2),i<0&&(i=-i,++a),e=Math.atan2(t,i)/this.degree,a){case 1:e=(t>=0?180:-180)-e;break;case 2:e=90-e;break;case 3:e=-90+e}return e}}(n.Math),function(t,i){t.Accumulator=function(t){this.Set(t)},t.Accumulator.prototype.Set=function(i){i||(i=0),i.constructor===t.Accumulator?(this._s=i._s,this._t=i._t):(this._s=i,this._t=0)},t.Accumulator.prototype.Add=function(t){var s=i.sum(t,this._t),e=i.sum(s.s,this._s);s=s.t,this._s=e.s,this._t=e.t,0===this._s?this._s=s:this._t+=s},t.Accumulator.prototype.Sum=function(i){var s;return i?(s=new t.Accumulator(this),s.Add(i),s._s):this._s},t.Accumulator.prototype.Negate=function(){this._s*=-1,this._t*=-1}}(n.Accumulator,n.Math),n.Geodesic={},n.GeodesicLine={},n.PolygonArea={},function(t,i,s,e,a){var n,r,o,h,l,_,c,p,u,f,d,g=20+e.digits+10,m=e.epsilon,A=200*m,C=Math.sqrt(m),y=m*A,M=1e3*C;t.tiny_=Math.sqrt(Number.MIN_VALUE),t.nC1_=6,t.nC1p_=6,t.nC2_=6,t.nC3_=6,t.nC4_=6,n=t.nC3_*(t.nC3_-1)/2,r=t.nC4_*(t.nC4_+1)/2,t.CAP_C1=1,t.CAP_C1p=2,t.CAP_C2=4,t.CAP_C3=8,t.CAP_C4=16,t.NONE=0,t.ARC=64,t.LATITUDE=128,t.LONGITUDE=256|t.CAP_C3,t.AZIMUTH=512,t.DISTANCE=1024|t.CAP_C1,t.STANDARD=t.LATITUDE|t.LONGITUDE|t.AZIMUTH|t.DISTANCE,t.DISTANCE_IN=2048|t.CAP_C1|t.CAP_C1p,t.REDUCEDLENGTH=4096|t.CAP_C1|t.CAP_C2,t.GEODESICSCALE=8192|t.CAP_C1|t.CAP_C2,t.AREA=16384|t.CAP_C4,t.ALL=32671,t.LONG_UNROLL=32768,t.OUT_MASK=32640|t.LONG_UNROLL,t.SinCosSeries=function(t,i,s,e){var a=e.length,n=a-(t?1:0),r=2*(s-i)*(s+i),o=1&n?e[--a]:0,h=0;for(n=Math.floor(n/2);n--;)h=r*o-h+e[--a],o=r*h-o+e[--a];return t?2*i*s*o:s*(o-h)},o=function(t,i){var s,a,n,r,o,h,l,_,c,p,u,f,d=e.sq(t),g=e.sq(i),m=(d+g-1)/6;return 0===g&&m<=0?s=0:(a=d*g/4,n=e.sq(m),r=m*n,o=a*(a+2*r),h=m,o>=0?(l=a+r,l+=l<0?-Math.sqrt(o):Math.sqrt(o),_=e.cbrt(l),h+=_+(0!==_?n/_:0)):(c=Math.atan2(Math.sqrt(-o),-(a+r)),h+=2*m*Math.cos(c/3)),p=Math.sqrt(e.sq(h)+g),u=h<0?g/(p-h):h+p,f=(u-g)/(2*p),s=u/(Math.sqrt(u+e.sq(f))+f)),s},h=[1,4,64,0,256],t.A1m1f=function(t){var i=Math.floor(3);return(e.polyval(i,h,0,e.sq(t))/h[i+1]+t)/(1-t)},l=[-1,6,-16,32,-9,64,-128,2048,9,-16,768,3,-5,512,-7,1280,-7,2048],t.C1f=function(i,s){var a,n,r=e.sq(i),o=i,h=0;for(a=1;a<=t.nC1_;++a)n=Math.floor((t.nC1_-a)/2),s[a]=o*e.polyval(n,l,h,r)/l[h+n+1],h+=n+2,o*=i},_=[205,-432,768,1536,4005,-4736,3840,12288,-225,116,384,-7173,2695,7680,3467,7680,38081,61440],t.C1pf=function(i,s){var a,n,r=e.sq(i),o=i,h=0;for(a=1;a<=t.nC1p_;++a)n=Math.floor((t.nC1p_-a)/2),s[a]=o*e.polyval(n,_,h,r)/_[h+n+1],h+=n+2,o*=i},c=[-11,-28,-192,0,256],t.A2m1f=function(t){var i=Math.floor(3);return(e.polyval(i,c,0,e.sq(t))/c[i+1]-t)/(1+t)},p=[1,2,16,32,35,64,384,2048,15,80,768,7,35,512,63,1280,77,2048],t.C2f=function(i,s){var a,n,r=e.sq(i),o=i,h=0;for(a=1;a<=t.nC2_;++a)n=Math.floor((t.nC2_-a)/2),s[a]=o*e.polyval(n,p,h,r)/p[h+n+1],h+=n+2,o*=i},t.Geodesic=function(t,i){if(this.a=t,this.f=i,this._f1=1-this.f,this._e2=this.f*(2-this.f),this._ep2=this._e2/e.sq(this._f1),this._n=this.f/(2-this.f),this._b=this.a*this._f1,this._c2=(e.sq(this.a)+e.sq(this._b)*(0===this._e2?1:(this._e2>0?e.atanh(Math.sqrt(this._e2)):Math.atan(Math.sqrt(-this._e2)))/Math.sqrt(Math.abs(this._e2))))/2,this._etol2=.1*C/Math.sqrt(Math.max(.001,Math.abs(this.f))*Math.min(1,1-this.f/2)/2),!(isFinite(this.a)&&this.a>0))throw new Error("Equatorial radius is not positive");if(!(isFinite(this._b)&&this._b>0))throw new Error("Polar semi-axis is not positive");this._A3x=new Array(6),this._C3x=new Array(n),this._C4x=new Array(r),this.A3coeff(),this.C3coeff(),this.C4coeff()},u=[-3,128,-2,-3,64,-1,-3,-1,16,3,-1,-2,8,1,-1,2,1,1],t.Geodesic.prototype.A3coeff=function(){var t,i,s=0,a=0;for(t=5;t>=0;--t)i=Math.min(6-t-1,t),this._A3x[a++]=e.polyval(i,u,s,this._n)/u[s+i+1],s+=i+2},f=[3,128,2,5,128,-1,3,3,64,-1,0,1,8,-1,1,4,5,256,1,3,128,-3,-2,3,64,1,-3,2,32,7,512,-10,9,384,5,-9,5,192,7,512,-14,7,512,21,2560],t.Geodesic.prototype.C3coeff=function(){var i,s,a,n=0,r=0;for(i=1;i<t.nC3_;++i)for(s=t.nC3_-1;s>=i;--s)a=Math.min(t.nC3_-s-1,s),this._C3x[r++]=e.polyval(a,f,n,this._n)/f[n+a+1],n+=a+2},d=[97,15015,1088,156,45045,-224,-4784,1573,45045,-10656,14144,-4576,-858,45045,64,624,-4576,6864,-3003,15015,100,208,572,3432,-12012,30030,45045,1,9009,-2944,468,135135,5792,1040,-1287,135135,5952,-11648,9152,-2574,135135,-64,-624,4576,-6864,3003,135135,8,10725,1856,-936,225225,-8448,4992,-1144,225225,-1440,4160,-4576,1716,225225,-136,63063,1024,-208,105105,3584,-3328,1144,315315,-128,135135,-2560,832,405405,128,99099],t.Geodesic.prototype.C4coeff=function(){var i,s,a,n=0,r=0;for(i=0;i<t.nC4_;++i)for(s=t.nC4_-1;s>=i;--s)a=t.nC4_-s-1,this._C4x[r++]=e.polyval(a,d,n,this._n)/d[n+a+1],n+=a+2},t.Geodesic.prototype.A3f=function(t){return e.polyval(5,this._A3x,0,t)},t.Geodesic.prototype.C3f=function(i,s){var a,n,r=1,o=0;for(a=1;a<t.nC3_;++a)n=t.nC3_-a-1,r*=i,s[a]=r*e.polyval(n,this._C3x,o,i),o+=n+1},t.Geodesic.prototype.C4f=function(i,s){var a,n,r=1,o=0;for(a=0;a<t.nC4_;++a)n=t.nC4_-a-1,s[a]=r*e.polyval(n,this._C4x,o,i),o+=n+1,r*=i},t.Geodesic.prototype.Lengths=function(i,s,e,a,n,r,o,h,l,_,c,p,u){c&=t.OUT_MASK;var f,d,g,m,A,C={},y=0,M=0,E=0,L=0;if(c&(t.DISTANCE|t.REDUCEDLENGTH|t.GEODESICSCALE)&&(E=t.A1m1f(i),t.C1f(i,p),c&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(L=t.A2m1f(i),t.C2f(i,u),y=E-L,L=1+L),E=1+E),c&t.DISTANCE)f=t.SinCosSeries(!0,r,o,p)-t.SinCosSeries(!0,e,a,p),C.s12b=E*(s+f),c&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(d=t.SinCosSeries(!0,r,o,u)-t.SinCosSeries(!0,e,a,u),M=y*s+(E*f-L*d));else if(c&(t.REDUCEDLENGTH|t.GEODESICSCALE)){for(g=1;g<=t.nC2_;++g)u[g]=E*p[g]-L*u[g];M=y*s+(t.SinCosSeries(!0,r,o,u)-t.SinCosSeries(!0,e,a,u))}return c&t.REDUCEDLENGTH&&(C.m0=y,C.m12b=h*(a*r)-n*(e*o)-a*o*M),c&t.GEODESICSCALE&&(m=a*o+e*r,A=this._ep2*(l-_)*(l+_)/(n+h),C.M12=m+(A*r-o*M)*e/n,C.M21=m-(A*e-a*M)*r/h),C},t.Geodesic.prototype.InverseStart=function(i,s,a,n,r,h,l,_,c,p,u){var f,d,g,m,C,y,E,L,v,N,D,S,T,b,G,I,U,P,O,w,x,k,q,R={},H=n*s-r*i,z=r*s+n*i;return R.sig12=-1,f=n*s,f+=r*i,d=z>=0&&H<.5&&r*l<.5,d?(m=e.sq(i+n),m/=m+e.sq(s+r),R.dnm=Math.sqrt(1+this._ep2*m),g=l/(this._f1*R.dnm),C=Math.sin(g),y=Math.cos(g)):(C=_,y=c),R.salp1=r*C,R.calp1=y>=0?H+r*i*e.sq(C)/(1+y):f-r*i*e.sq(C)/(1-y),L=e.hypot(R.salp1,R.calp1),v=i*n+s*r*y,d&&L<this._etol2?(R.salp2=s*C,R.calp2=H-s*n*(y>=0?e.sq(C)/(1+y):1-y),E=e.hypot(R.salp2,R.calp2),R.salp2/=E,R.calp2/=E,R.sig12=Math.atan2(L,v)):Math.abs(this._n)>.1||v>=0||L>=6*Math.abs(this._n)*Math.PI*e.sq(s)||(q=Math.atan2(-_,-c),this.f>=0?(b=e.sq(i)*this._ep2,G=b/(2*(1+Math.sqrt(1+b))+b),S=this.f*s*this.A3f(G)*Math.PI,T=S*s,N=q/S,D=f/T):(I=r*s-n*i,U=Math.atan2(f,I),w=this.Lengths(this._n,Math.PI+U,i,-s,a,n,r,h,s,r,t.REDUCEDLENGTH,p,u),P=w.m12b,O=w.m0,N=P/(s*r*O*Math.PI)-1,T=N<-.01?f/N:-this.f*e.sq(s)*Math.PI,S=T/s,D=l/S),D>-A&&N>-1-M?this.f>=0?(R.salp1=Math.min(1,-N),R.calp1=-Math.sqrt(1-e.sq(R.salp1))):(R.calp1=Math.max(N>-A?0:-1,N),R.salp1=Math.sqrt(1-e.sq(R.calp1))):(x=o(N,D),k=S*(this.f>=0?-N*x/(1+x):-D*(1+x)/x),C=Math.sin(k),y=-Math.cos(k),R.salp1=r*C,R.calp1=f-r*i*e.sq(C)/(1-y))),R.salp1<=0?(R.salp1=1,R.calp1=0):(E=e.hypot(R.salp1,R.calp1),R.salp1/=E,R.calp1/=E),R},t.Geodesic.prototype.Lambda12=function(i,s,a,n,r,o,h,l,_,c,p,u,f,d){var g,m,A,C,y,M,E,L,v,N,D,S,T,b={};return 0===i&&0===l&&(l=-t.tiny_),m=h*s,A=e.hypot(l,h*i),b.ssig1=i,C=m*i,b.csig1=y=l*s,g=e.hypot(b.ssig1,b.csig1),b.ssig1/=g,b.csig1/=g,b.salp2=r!==s?m/r:h,b.calp2=r!==s||Math.abs(n)!==-i?Math.sqrt(e.sq(l*s)+(s<-i?(r-s)*(s+r):(i-n)*(i+n)))/r:Math.abs(l),b.ssig2=n,M=m*n,b.csig2=E=b.calp2*r,g=e.hypot(b.ssig2,b.csig2),b.ssig2/=g,b.csig2/=g,b.sig12=Math.atan2(Math.max(0,b.csig1*b.ssig2-b.ssig1*b.csig2),b.csig1*b.csig2+b.ssig1*b.ssig2),L=Math.max(0,y*M-C*E),v=y*E+C*M,D=Math.atan2(L*c-v*_,v*c+L*_),S=e.sq(A)*this._ep2,b.eps=S/(2*(1+Math.sqrt(1+S))+S),this.C3f(b.eps,d),N=t.SinCosSeries(!0,b.ssig2,b.csig2,d)-t.SinCosSeries(!0,b.ssig1,b.csig1,d),b.domg12=-this.f*this.A3f(b.eps)*m*(b.sig12+N),b.lam12=D+b.domg12,p&&(0===b.calp2?b.dlam12=-2*this._f1*a/i:(T=this.Lengths(b.eps,b.sig12,b.ssig1,b.csig1,a,b.ssig2,b.csig2,o,s,r,t.REDUCEDLENGTH,u,f),b.dlam12=T.m12b,b.dlam12*=this._f1/(b.calp2*r))),b},t.Geodesic.prototype.Inverse=function(i,s,a,n,r){var o,h;return r||(r=t.STANDARD),r===t.LONG_UNROLL&&(r|=t.STANDARD),r&=t.OUT_MASK,o=this.InverseInt(i,s,a,n,r),h=o.vals,r&t.AZIMUTH&&(h.azi1=e.atan2d(o.salp1,o.calp1),h.azi2=e.atan2d(o.salp2,o.calp2)),h},t.Geodesic.prototype.InverseInt=function(i,s,a,n,r){var o,h,l,_,c,p,u,f,d,A,C,M,E,L,v,N,D,S,T,b,G,I,U,P,O,w,x,k,q,R,H,z,F,B,W,j,Z,K,V,Q,Y,$,J,X,tt,it,st,et,at,nt,rt,ot,ht,lt,_t,ct,pt,ut,ft,dt,gt,mt,At,Ct,yt,Mt={};if(Mt.lat1=i=e.LatFix(i),Mt.lat2=a=e.LatFix(a),i=e.AngRound(i),a=e.AngRound(a),o=e.AngDiff(s,n),h=o.t,o=o.s,r&t.LONG_UNROLL?(Mt.lon1=s,Mt.lon2=s+o+h):(Mt.lon1=e.AngNormalize(s),Mt.lon2=e.AngNormalize(n)),l=o>=0?1:-1,o=l*e.AngRound(o),h=e.AngRound(180-o-l*h),v=o*e.degree,_=e.sincosd(o>90?h:o),N=_.s,D=(o>90?-1:1)*_.c,c=Math.abs(i)<Math.abs(a)?-1:1,c<0&&(l*=-1,_=i,i=a,a=_),p=i<0?1:-1,i*=p,a*=p,_=e.sincosd(i),u=this._f1*_.s,f=_.c,_=e.hypot(u,f),u/=_,f/=_,f=Math.max(t.tiny_,f),_=e.sincosd(a),d=this._f1*_.s,A=_.c,_=e.hypot(d,A),d/=_,A/=_,A=Math.max(t.tiny_,A),f<-u?A===f&&(d=d<0?u:-u):Math.abs(d)===-u&&(A=f),E=Math.sqrt(1+this._ep2*e.sq(u)),L=Math.sqrt(1+this._ep2*e.sq(d)),U=new Array(t.nC1_+1),P=new Array(t.nC2_+1),O=new Array(t.nC3_),w=-90===i||0===N,w&&(T=D,b=N,G=1,I=0,k=u,q=T*f,R=d,H=G*A,S=Math.atan2(Math.max(0,q*R-k*H),q*H+k*R),x=this.Lengths(this._n,S,k,q,E,R,H,L,f,A,r|t.DISTANCE|t.REDUCEDLENGTH,U,P),C=x.s12b,M=x.m12b,r&t.GEODESICSCALE&&(Mt.M12=x.M12,Mt.M21=x.M21),S<1||M>=0?(S<3*t.tiny_&&(S=M=C=0),M*=this._b,C*=this._b,Mt.a12=S/e.degree):w=!1),pt=2,!w&&0===u&&(this.f<=0||h>=180*this.f))T=G=0,b=I=1,C=this.a*v,S=F=v/this._f1,M=this._b*Math.sin(S),r&t.GEODESICSCALE&&(Mt.M12=Mt.M21=Math.cos(S)),Mt.a12=o/this._f1;else if(!w)if(x=this.InverseStart(u,f,E,d,A,L,v,N,D,U,P),S=x.sig12,b=x.salp1,T=x.calp1,S>=0)I=x.salp2,G=x.calp2,B=x.dnm,C=S*this._b*B,M=e.sq(B)*this._b*Math.sin(S/B),r&t.GEODESICSCALE&&(Mt.M12=Mt.M21=Math.cos(S/B)),Mt.a12=S/e.degree,F=v/(this._f1*B);else{for(W=0,j=t.tiny_,Z=1,K=t.tiny_,V=-1,Q=!1,Y=!1;W<g&&(x=this.Lambda12(u,f,E,d,A,L,b,T,N,D,W<20,U,P,O),$=x.lam12,I=x.salp2,G=x.calp2,S=x.sig12,k=x.ssig1,q=x.csig1,R=x.ssig2,H=x.csig2,z=x.eps,ft=x.domg12,J=x.dlam12,!Y&&Math.abs($)>=(Q?8:1)*m);++W)$>0&&(W<20||T/b>V/K)?(K=b,V=T):$<0&&(W<20||T/b<Z/j)&&(j=b,Z=T),W<20&&J>0&&(X=-$/J,tt=Math.sin(X),it=Math.cos(X),(st=b*it+T*tt)>0&&Math.abs(X)<Math.PI)?(T=T*it-b*tt,b=st,_=e.hypot(b,T),b/=_,T/=_,Q=Math.abs($)<=16*m):(b=(j+K)/2,T=(Z+V)/2,_=e.hypot(b,T),b/=_,T/=_,Q=!1,Y=Math.abs(j-b)+(Z-T)<y||Math.abs(b-K)+(T-V)<y);et=r|(r&(t.REDUCEDLENGTH|t.GEODESICSCALE)?t.DISTANCE:t.NONE),x=this.Lengths(z,S,k,q,E,R,H,L,f,A,et,U,P),C=x.s12b,M=x.m12b,r&t.GEODESICSCALE&&(Mt.M12=x.M12,Mt.M21=x.M21),M*=this._b,C*=this._b,Mt.a12=S/e.degree,r&t.AREA&&(Ct=Math.sin(ft),yt=Math.cos(ft),pt=N*yt-D*Ct,ut=D*yt+N*Ct)}return r&t.DISTANCE&&(Mt.s12=0+C),r&t.REDUCEDLENGTH&&(Mt.m12=0+M),r&t.AREA&&(at=b*f,nt=e.hypot(T,b*u),0!==nt&&0!==at?(k=u,q=T*f,R=d,H=G*A,ot=e.sq(nt)*this._ep2,z=ot/(2*(1+Math.sqrt(1+ot))+ot),ht=e.sq(this.a)*nt*at*this._e2,_=e.hypot(k,q),k/=_,q/=_,_=e.hypot(R,H),R/=_,H/=_,lt=new Array(t.nC4_),this.C4f(z,lt),_t=t.SinCosSeries(!1,k,q,lt),ct=t.SinCosSeries(!1,R,H,lt),Mt.S12=ht*(ct-_t)):Mt.S12=0,!w&&pt>1&&(pt=Math.sin(F),ut=Math.cos(F)),!w&&ut>-.7071&&d-u<1.75?(ft=1+ut,dt=1+f,gt=1+A,rt=2*Math.atan2(pt*(u*gt+d*dt),ft*(u*d+dt*gt))):(mt=I*T-G*b,At=G*T+I*b,0===mt&&At<0&&(mt=t.tiny_*T,At=-1),rt=Math.atan2(mt,At)),Mt.S12+=this._c2*rt,Mt.S12*=c*l*p,Mt.S12+=0),c<0&&(_=b,b=I,I=_,_=T,T=G,G=_,r&t.GEODESICSCALE&&(_=Mt.M12,Mt.M12=Mt.M21,Mt.M21=_)),b*=c*l,T*=c*p,I*=c*l,G*=c*p,{vals:Mt,salp1:b,calp1:T,salp2:I,calp2:G}},t.Geodesic.prototype.GenDirect=function(s,e,a,n,r,o){var h;return o?o===t.LONG_UNROLL&&(o|=t.STANDARD):o=t.STANDARD,n||(o|=t.DISTANCE_IN),h=new i.GeodesicLine(this,s,e,a,o),h.GenPosition(n,r,o)},t.Geodesic.prototype.Direct=function(t,i,s,e,a){return this.GenDirect(t,i,s,!1,e,a)},t.Geodesic.prototype.ArcDirect=function(t,i,s,e,a){return this.GenDirect(t,i,s,!0,e,a)},t.Geodesic.prototype.Line=function(t,s,e,a){return new i.GeodesicLine(this,t,s,e,a)},t.Geodesic.prototype.DirectLine=function(t,i,s,e,a){return this.GenDirectLine(t,i,s,!1,e,a)},t.Geodesic.prototype.ArcDirectLine=function(t,i,s,e,a){return this.GenDirectLine(t,i,s,!0,e,a)},t.Geodesic.prototype.GenDirectLine=function(s,e,a,n,r,o){var h;return o||(o=t.STANDARD|t.DISTANCE_IN),n||(o|=t.DISTANCE_IN),h=new i.GeodesicLine(this,s,e,a,o),h.GenSetDistance(n,r),h},t.Geodesic.prototype.InverseLine=function(s,a,n,r,o){var h,l,_;return o||(o=t.STANDARD|t.DISTANCE_IN),h=this.InverseInt(s,a,n,r,t.ARC),_=e.atan2d(h.salp1,h.calp1),o&t.OUT_MASK&t.DISTANCE_IN&&(o|=t.DISTANCE),l=new i.GeodesicLine(this,s,a,_,o,h.salp1,h.calp1),l.SetArc(h.vals.a12),l},t.Geodesic.prototype.Polygon=function(t){return new s.PolygonArea(this,t)},t.WGS84=new t.Geodesic(a.WGS84.a,a.WGS84.f)}(n.Geodesic,n.GeodesicLine,n.PolygonArea,n.Math,n.Constants),function(t,i,s){i.GeodesicLine=function(i,e,a,n,r,o,h){var l,_,c,p,u,f;r||(r=t.STANDARD|t.DISTANCE_IN),this.a=i.a,this.f=i.f,this._b=i._b,this._c2=i._c2,this._f1=i._f1,this.caps=r|t.LATITUDE|t.AZIMUTH|t.LONG_UNROLL,this.lat1=s.LatFix(e),this.lon1=a,void 0===o||void 0===h?(this.azi1=s.AngNormalize(n),l=s.sincosd(s.AngRound(this.azi1)),this.salp1=l.s,this.calp1=l.c):(this.azi1=n,this.salp1=o,this.calp1=h),l=s.sincosd(s.AngRound(this.lat1)),c=this._f1*l.s,_=l.c,l=s.hypot(c,_),c/=l,_/=l,_=Math.max(t.tiny_,_),this._dn1=Math.sqrt(1+i._ep2*s.sq(c)),this._salp0=this.salp1*_,this._calp0=s.hypot(this.calp1,this.salp1*c),this._ssig1=c,this._somg1=this._salp0*c,this._csig1=this._comg1=0!==c||0!==this.calp1?_*this.calp1:1,l=s.hypot(this._ssig1,this._csig1),this._ssig1/=l,this._csig1/=l,this._k2=s.sq(this._calp0)*i._ep2,p=this._k2/(2*(1+Math.sqrt(1+this._k2))+this._k2),this.caps&t.CAP_C1&&(this._A1m1=t.A1m1f(p),this._C1a=new Array(t.nC1_+1),t.C1f(p,this._C1a),this._B11=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C1a),u=Math.sin(this._B11),f=Math.cos(this._B11),this._stau1=this._ssig1*f+this._csig1*u,this._ctau1=this._csig1*f-this._ssig1*u),this.caps&t.CAP_C1p&&(this._C1pa=new Array(t.nC1p_+1),t.C1pf(p,this._C1pa)),this.caps&t.CAP_C2&&(this._A2m1=t.A2m1f(p),this._C2a=new Array(t.nC2_+1),t.C2f(p,this._C2a),this._B21=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C2a)),this.caps&t.CAP_C3&&(this._C3a=new Array(t.nC3_),i.C3f(p,this._C3a),this._A3c=-this.f*this._salp0*i.A3f(p),this._B31=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C3a)),this.caps&t.CAP_C4&&(this._C4a=new Array(t.nC4_),i.C4f(p,this._C4a),this._A4=s.sq(this.a)*this._calp0*this._salp0*i._e2,this._B41=t.SinCosSeries(!1,this._ssig1,this._csig1,this._C4a)),this.a13=this.s13=Number.NaN},i.GeodesicLine.prototype.GenPosition=function(i,e,a){var n,r,o,h,l,_,c,p,u,f,d,g,m,A,C,y,M,E,L,v,N,D,S,T,b,G,I,U,P,O={};return a?a===t.LONG_UNROLL&&(a|=t.STANDARD):a=t.STANDARD,a&=this.caps&t.OUT_MASK,O.lat1=this.lat1,O.azi1=this.azi1,O.lon1=a&t.LONG_UNROLL?this.lon1:s.AngNormalize(this.lon1),i?O.a12=e:O.s12=e,i||this.caps&t.DISTANCE_IN&t.OUT_MASK?(h=0,l=0,i?(n=e*s.degree,G=s.sincosd(e),r=G.s,o=G.c):(p=e/(this._b*(1+this._A1m1)),u=Math.sin(p),f=Math.cos(p),h=-t.SinCosSeries(!0,this._stau1*f+this._ctau1*u,this._ctau1*f-this._stau1*u,this._C1pa),n=p-(h-this._B11),r=Math.sin(n),o=Math.cos(n),Math.abs(this.f)>.01&&(_=this._ssig1*o+this._csig1*r,c=this._csig1*o-this._ssig1*r,h=t.SinCosSeries(!0,_,c,this._C1a),d=(1+this._A1m1)*(n+(h-this._B11))-e/this._b,n-=d/Math.sqrt(1+this._k2*s.sq(_)),r=Math.sin(n),o=Math.cos(n))),_=this._ssig1*o+this._csig1*r,c=this._csig1*o-this._ssig1*r,D=Math.sqrt(1+this._k2*s.sq(_)),a&(t.DISTANCE|t.REDUCEDLENGTH|t.GEODESICSCALE)&&((i||Math.abs(this.f)>.01)&&(h=t.SinCosSeries(!0,_,c,this._C1a)),l=(1+this._A1m1)*(h-this._B11)),y=this._calp0*_,M=s.hypot(this._salp0,this._calp0*c),0===M&&(M=c=t.tiny_),v=this._salp0,N=this._calp0*c,i&&a&t.DISTANCE&&(O.s12=this._b*((1+this._A1m1)*n+l)),a&t.LONGITUDE&&(E=this._salp0*_,L=c,C=s.copysign(1,this._salp0),g=a&t.LONG_UNROLL?C*(n-(Math.atan2(_,c)-Math.atan2(this._ssig1,this._csig1))+(Math.atan2(C*E,L)-Math.atan2(C*this._somg1,this._comg1))):Math.atan2(E*this._comg1-L*this._somg1,L*this._comg1+E*this._somg1),m=g+this._A3c*(n+(t.SinCosSeries(!0,_,c,this._C3a)-this._B31)),A=m/s.degree,O.lon2=a&t.LONG_UNROLL?this.lon1+A:s.AngNormalize(s.AngNormalize(this.lon1)+s.AngNormalize(A))),a&t.LATITUDE&&(O.lat2=s.atan2d(y,this._f1*M)),a&t.AZIMUTH&&(O.azi2=s.atan2d(v,N)),a&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(S=t.SinCosSeries(!0,_,c,this._C2a),T=(1+this._A2m1)*(S-this._B21),b=(this._A1m1-this._A2m1)*n+(l-T),a&t.REDUCEDLENGTH&&(O.m12=this._b*(D*(this._csig1*_)-this._dn1*(this._ssig1*c)-this._csig1*c*b)),a&t.GEODESICSCALE&&(G=this._k2*(_-this._ssig1)*(_+this._ssig1)/(this._dn1+D),O.M12=o+(G*_-c*b)*this._ssig1/this._dn1,O.M21=o-(G*this._ssig1-this._csig1*b)*_/D)),a&t.AREA&&(I=t.SinCosSeries(!1,_,c,this._C4a),0===this._calp0||0===this._salp0?(U=v*this.calp1-N*this.salp1,P=N*this.calp1+v*this.salp1):(U=this._calp0*this._salp0*(o<=0?this._csig1*(1-o)+r*this._ssig1:r*(this._csig1*r/(1+o)+this._ssig1)),P=s.sq(this._salp0)+s.sq(this._calp0)*this._csig1*c),O.S12=this._c2*Math.atan2(U,P)+this._A4*(I-this._B41)),i||(O.a12=n/s.degree),O):(O.a12=Number.NaN,O)},i.GeodesicLine.prototype.Position=function(t,i){return this.GenPosition(!1,t,i)},i.GeodesicLine.prototype.ArcPosition=function(t,i){return this.GenPosition(!0,t,i)},i.GeodesicLine.prototype.GenSetDistance=function(t,i){t?this.SetArc(i):this.SetDistance(i)},i.GeodesicLine.prototype.SetDistance=function(i){var s;this.s13=i,s=this.GenPosition(!1,this.s13,t.ARC),this.a13=0+s.a12},i.GeodesicLine.prototype.SetArc=function(i){var s;this.a13=i,s=this.GenPosition(!0,this.a13,t.DISTANCE),this.s13=0+s.s12}}(n.Geodesic,n.GeodesicLine,n.Math),function(t,i,s,e){var a,n;a=function(t,i){var e;return t=s.AngNormalize(t),i=s.AngNormalize(i),e=s.AngDiff(t,i).s,t<=0&&i>0&&e>0?1:i<=0&&t>0&&e<0?-1:0},n=function(t,i){return t%=720,i%=720,(i>=0&&i<360||i<-360?0:1)-(t>=0&&t<360||t<-360?0:1)},t.PolygonArea=function(t,s){this._geod=t,this.a=this._geod.a,this.f=this._geod.f,this._area0=4*Math.PI*t._c2,this.polyline=s||!1,this._mask=i.LATITUDE|i.LONGITUDE|i.DISTANCE|(this.polyline?i.NONE:i.AREA|i.LONG_UNROLL),this.polyline||(this._areasum=new e.Accumulator(0)),this._perimetersum=new e.Accumulator(0),this.Clear()},t.PolygonArea.prototype.Clear=function(){this.num=0,this._crossings=0,this.polyline||this._areasum.Set(0),this._perimetersum.Set(0),this._lat0=this._lon0=this.lat=this.lon=Number.NaN},t.PolygonArea.prototype.AddPoint=function(t,i){var s;0===this.num?(this._lat0=this.lat=t,this._lon0=this.lon=i):(s=this._geod.Inverse(this.lat,this.lon,t,i,this._mask),this._perimetersum.Add(s.s12),this.polyline||(this._areasum.Add(s.S12),this._crossings+=a(this.lon,i)),this.lat=t,this.lon=i),++this.num},t.PolygonArea.prototype.AddEdge=function(t,i){var s;this.num&&(s=this._geod.Direct(this.lat,this.lon,t,i,this._mask),this._perimetersum.Add(i),this.polyline||(this._areasum.Add(s.S12),this._crossings+=n(this.lon,s.lon2)),this.lat=s.lat2,this.lon=s.lon2),++this.num},t.PolygonArea.prototype.Compute=function(t,i){var s,n,r,o={number:this.num};return this.num<2?(o.perimeter=0,this.polyline||(o.area=0),o):this.polyline?(o.perimeter=this._perimetersum.Sum(),o):(s=this._geod.Inverse(this.lat,this.lon,this._lat0,this._lon0,this._mask),o.perimeter=this._perimetersum.Sum(s.s12),n=new e.Accumulator(this._areasum),n.Add(s.S12),r=this._crossings+a(this.lon,this._lon0),1&r&&n.Add((n.Sum()<0?1:-1)*this._area0/2),t||n.Negate(),i?n.Sum()>this._area0/2?n.Add(-this._area0):n.Sum()<=-this._area0/2&&n.Add(+this._area0):n.Sum()>=this._area0?n.Add(-this._area0):n<0&&n.Add(-this._area0),o.area=n.Sum(),o)},t.PolygonArea.prototype.TestPoint=function(t,i,s,e){var n,r,o,h,l={number:this.num+1};if(0===this.num)return l.perimeter=0,this.polyline||(l.area=0),l;for(l.perimeter=this._perimetersum.Sum(),r=this.polyline?0:this._areasum.Sum(),o=this._crossings,h=0;h<(this.polyline?1:2);++h)n=this._geod.Inverse(0===h?this.lat:t,0===h?this.lon:i,0!==h?this._lat0:t,0!==h?this._lon0:i,this._mask),l.perimeter+=n.s12,this.polyline||(r+=n.S12,o+=a(0===h?this.lon:i,0!==h?this._lon0:i));return this.polyline?l:(1&o&&(r+=(r<0?1:-1)*this._area0/2),s||(r*=-1),e?r>this._area0/2?r-=this._area0:r<=-this._area0/2&&(r+=this._area0):r>=this._area0?r-=this._area0:r<0&&(r+=this._area0),l.area=r,l)},t.PolygonArea.prototype.TestEdge=function(t,i,s,e){var r,o,h,l={number:this.num?this.num+1:0};return 0===this.num?l:(l.perimeter=this._perimetersum.Sum()+i,this.polyline?l:(o=this._areasum.Sum(),h=this._crossings,r=this._geod.Direct(this.lat,this.lon,t,i,this._mask),o+=r.S12,h+=n(this.lon,r.lon2),r=this._geod.Inverse(r.lat2,r.lon2,this._lat0,this._lon0,this._mask),l.perimeter+=r.s12,o+=r.S12,h+=a(r.lon2,this._lon0),1&h&&(o+=(o<0?1:-1)*this._area0/2),s||(o*=-1),e?o>this._area0/2?o-=this._area0:o<=-this._area0/2&&(o+=this._area0):o>=this._area0?o-=this._area0:o<0&&(o+=this._area0),l.area=o,l))}}(n.PolygonArea,n.Geodesic,n.Math,n.Accumulator),n.DMS={},function(t){var i,s,e,a,n="SNWE",r="°'\"",o=["degrees","minutes","seconds"];i=function(t,i){return t.indexOf(i.toUpperCase())},s=function(t,i){return String("0000").substr(0,Math.max(0,Math.min(4,i-t.length)))+t},t.NONE=0,t.LATITUDE=1,t.LONGITUDE=2,t.AZIMUTH=3,t.DEGREE=0,t.MINUTE=1,t.SECOND=2,t.Decode=function(s){var a,r,o,h,l,_,c,p,u=s,f=0,d=0,g=t.NONE;for(u=u.replace(/\u00b0/g,"d").replace(/\u00ba/g,"d").replace(/\u2070/g,"d").replace(/\u02da/g,"d").replace(/\u2032/g,"'").replace(/\u00b4/g,"'").replace(/\u2019/g,"'").replace(/\u2033/g,'"').replace(/\u201d/g,'"').replace(/\u2212/g,"-").replace(/''/g,'"').trim(),a=u.length,_=0;_<a;_=p,++d)if(c=_,0===d&&i(n,u.charAt(c))>=0&&++c,(d>0||c<a&&i("-+",u.charAt(c))>=0)&&++c,r=u.substr(c,a-c).indexOf("-"),o=u.substr(c,a-c).indexOf("+"),r<0?r=a:r+=c,o<0?o=a:o+=c,p=Math.min(r,o),h=e(u.substr(_,p-_)),f+=h.val,l=h.ind,g===t.NONE)g=l;else if(l!==t.NONE&&g!==l)throw new Error("Incompatible hemisphere specifies in "+u.substr(0,p));if(0===d)throw new Error("Empty or incomplete DMS string "+u);return{val:f,ind:g}},e=function(s){var e,r,h,l,_,c,p,u,f,d,g,m,A,C,y,M,E={},L="";do{if(e=1,r=0,h=s.length,l=t.NONE,_=-1,h>r&&(_=i(n,s.charAt(r)))>=0&&(l=2&_?t.LONGITUDE:t.LATITUDE,e=1&_?1:-1,++r),h>r&&(_=i(n,s.charAt(h-1)))>=0&&_>=0){if(l!==t.NONE){L=s.charAt(r-1).toUpperCase()===s.charAt(h-1).toUpperCase()?"Repeated hemisphere indicators "+s.charAt(r-1)+" in "+s.substr(r-1,h-r+1):"Contradictory hemisphere indicators "+s.charAt(r-1)+" and "+s.charAt(h-1)+" in "+s.substr(r-1,h-r+1);break}l=2&_?t.LONGITUDE:t.LATITUDE,e=1&_?1:-1,--h}if(h>r&&(_=i("-+",s.charAt(r)))>=0&&_>=0&&(e*=_?1:-1,++r),h===r){L="Empty or incomplete DMS string "+s;break}for(c=[0,0,0],p=[0,0,0],u=0,f=0,d=0,g=0,m=r,A=!1,C=0,y=0;m<h;)if(M=s.charAt(m++),(_=i("0123456789",M))>=0)++g,C>0?++C:(f=10*f+_,++y);else if("."===M){if(A){L="Multiple decimal points in "+s.substr(r,h-r);break}A=!0,C=1}else{if(!((_=i("D'\":",M))>=0)){if(i("-+",M)>=0){L="Internal sign in DMS string "+s.substr(r,h-r);break}L="Illegal character "+M+" in DMS string "+s.substr(r,h-r);break}if(_>=3){if(m===h){L="Illegal for colon to appear at the end of "+s.substr(r,h-r);break}_=u}if(_===u-1){L="Repeated "+o[_]+" component in "+s.substr(r,h-r);break}if(_<u){L=o[_]+" component follows "+o[u-1]+" component in "+s.substr(r,h-r);break}if(0===g){L="Missing numbers in "+o[_]+" component of "+s.substr(r,h-r);break}C>0&&(d=parseFloat(s.substr(m-y-C-1,y+C)),f=0),c[_]=f,p[_]=f+d,m<h&&(u=_+1,f=d=0,g=C=y=0)}if(L.length)break;if(i("D'\":",s.charAt(m-1))<0){if(u>=3){L="Extra text following seconds in DMS string "+s.substr(r,h-r);break}if(0===g){L="Missing numbers in trailing component of "+s.substr(r,h-r);break}C>0&&(d=parseFloat(s.substr(m-y-C,y+C)),f=0),c[u]=f,p[u]=f+d}if(A&&0===C){L="Decimal point in non-terminal component of "+s.substr(r,h-r);break}if(c[1]>=60||p[1]>60){L="Minutes "+p[1]+" not in range [0,60)";break}if(c[2]>=60||p[2]>60){L="Seconds "+p[2]+" not in range [0,60)";break}return E.ind=l,E.val=e*(p[2]?(60*(60*p[0]+p[1])+p[2])/3600:p[1]?(60*p[0]+p[1])/60:p[0]),E}while(!1);if(E.val=a(s),0===E.val)throw new Error(L);return E.ind=t.NONE,E},a=function(t){var i,s,e,a;return t.length<3?0:(i=t.toUpperCase().replace(/0+$/,""),s="-"===i.charAt(0)?-1:1,e="-"===i.charAt(0)||"+"===i.charAt(0)?1:0,(a=i.length-1)+1<e+3?0:(i=i.substr(e,a+1-e),"NAN"===i||"1.#QNAN"===i||"1.#SNAN"===i||"1.#IND"===i||"1.#R"===i?Number.NaN:"INF"===i||"1.#INF"===i?s*Number.POSITIVE_INFINITY:0))},t.DecodeLatLon=function(i,s,e){var a,n,r={},o=t.Decode(i),h=t.Decode(s),l=o.val,_=o.ind,c=h.val,p=h.ind;if(e||(e=!1),_===t.NONE&&p===t.NONE?(_=e?t.LONGITUDE:t.LATITUDE,p=e?t.LATITUDE:t.LONGITUDE):_===t.NONE?_=t.LATITUDE+t.LONGITUDE-p:p===t.NONE&&(p=t.LATITUDE+t.LONGITUDE-_),_===p)throw new Error("Both "+i+" and "+s+" interpreted as "+(_===t.LATITUDE?"latitudes":"longitudes"));if(a=_===t.LATITUDE?l:c,n=_===t.LATITUDE?c:l,Math.abs(a)>90)throw new Error("Latitude "+a+" not in [-90,90]");return r.lat=a,r.lon=n,r},t.DecodeAngle=function(i){var s=t.Decode(i),e=s.val;if(s.ind!==t.NONE)throw new Error("Arc angle "+i+" includes a hemisphere N/E/W/S");return e},t.DecodeAzimuth=function(i){var s=t.Decode(i),e=s.val;if(s.ind===t.LATITUDE)throw new Error("Azimuth "+i+" has a latitude hemisphere N/S");return e},t.Encode=function(i,e,a,o){var h,l,_,c,p,u,f,d,g,m=1;if(o||(o=t.NONE),!isFinite(i))return i<0?String("-inf"):i>0?String("inf"):String("nan");for(a=Math.min(15-2*e,a),h=0;h<e;++h)m*=60;for(h=0;h<a;++h)m*=10;for(o===t.AZIMUTH&&(i-=360*Math.floor(i/360)),l=i<0?-1:1,i*=l,_=Math.floor(i),c=(i-_)*m+.5,p=Math.floor(c),c=p===c&&1==(1&p)?p-1:p,c/=m,c=Math.floor((i-_)*m+.5)/m,c>=1&&(_+=1,c-=1),u=[c,0,0],h=1;h<=e;++h)f=Math.floor(u[h-1]),d=u[h-1]-f,u[h]=60*d,u[h-1]=f;switch(u[0]+=_,g="",o===t.NONE&&l<0&&(g+="-"),e){case t.DEGREE:g+=s(u[0].toFixed(a),o===t.NONE?0:1+Math.min(o,2)+a+(a?1:0))+r.charAt(0);break;default:switch(g+=s(u[0].toFixed(0),o===t.NONE?0:1+Math.min(o,2))+r.charAt(0),e){case t.MINUTE:g+=s(u[1].toFixed(a),2+a+(a?1:0))+r.charAt(1);break;case t.SECOND:g+=s(u[1].toFixed(0),2)+r.charAt(1),g+=s(u[2].toFixed(a),2+a+(a?1:0))+r.charAt(2)}}return o!==t.NONE&&o!==t.AZIMUTH&&(g+=n.charAt((o===t.LATITUDE?0:2)+(l<0?0:1))),g}}(n.DMS),function(s){"object"==typeof t&&t.exports?t.exports=s:(e=[],void 0!==(a=function(){return s}.apply(i,e))&&(t.exports=a))}(n)}()},function(t,i){L.EditToolbar.Edit.include({__removeHooks:L.EditToolbar.Edit.prototype.removeHooks,__revertLayer:L.EditToolbar.Edit.prototype._revertLayer,removeHooks:function(){if(this.__removeHooks.apply(this,arguments),this._map)return this._map.off("draw:editvertex",this._updateTooltip,this)},_revertLayer:function(t){var i;return i=L.Util.stamp(t),this.__revertLayer.apply(this,arguments),t.editing.latlngs=this._uneditedLayerProps[i].latlngs,t.editing._poly._latlngs=this._uneditedLayerProps[i].latlngs,t.editing._verticesHandlers[0]._latlngs=this._uneditedLayerProps[i].latlngs},_editStyle:function(){}}),L.EditToolbar.include({_save:function(){var t;return t=this._activeMode.handler,t.save(),t.disable()}})}]);